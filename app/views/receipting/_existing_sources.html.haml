.full_container
  %h2 Existing Sources
  %table#show_sources_by_campaign_grid{:class => "selectable_grid",:db_click_function => "true", :field => "source", :db_click_url => "/receipting/edit_source.js"}
%script{:type => "text/javascript", :charset => "utf-8"}
  :plain
 
    delete_from_a_grid = function(){
    delete_from_grid($("#show_sources_by_campaign_grid tr.trSelected").attr('id'),"#source_mode","get","/receipting/destroy_source/");
    };

    retrieve_from_a_grid = function(){
    retrieve_from_grid($("#show_sources_by_campaign_grid tr.trSelected").attr('id'),"#source_mode","get","/receipting/retrieve_source/");
    };
    $("#show_sources_by_campaign_grid").flexigrid({
      url: '/grids/show_sources_by_campaign_grid',
      dataType: 'json',
      colModel : [
      {
        display: 'ID',
        name : 'id',
        width : 40,
        sortable : true,
        align: 'left'
      },

      {
        display: 'Name',
        name : 'Name',
        width : 100,
        sortable : true,
        align: 'left'
      },
      {
        display: 'Description',
        name : 'description',
        width : 100,
        sortable : true,
        align: 'left'
      },

      {
        display: 'Volume',
        name : 'volume',
        width : 100,
        sortable : true,
        align: 'left'
      },

      {
        display: 'Cost',
        name : 'cost',
        width : 100,
        sortable : true,
        align: 'left'
      },

      {
        display: 'Status',
        name : 'status',
        width : 200,
        sortable : true,
        align: 'left'
      }
      ],
      buttons : [
            {name: '', bclass: 'delete delete_button_on_grid', onpress : delete_from_a_grid},
            {name: '', bclass: 'get retrieve_button_on_grid', onpress : retrieve_from_a_grid}
        ],
      searchitems : [
        {
            display: 'Name',
            name : 'name'
        },

        {
            display: 'Description',
            name : 'description'
        },

        {
            display: 'volume',
            name : 'volume'
        },

        {
            display: 'Cost',
            name : 'cost'
        },

        {
            display: 'Status',
            name : 'status'
        }
        ],
        sortname: "id",
        sortorder: "asc",
        usepager: true,
        useRp: true,
        rp: 20,
        showTableToggleBtn: false,
        width: 'auto',
        height: 'auto'
    });
 