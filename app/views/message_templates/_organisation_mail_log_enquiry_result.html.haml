-# locals => {:query}
.full_container
  %h2 Organisation Mail Merge History
  %table#show_organisation_maillog_enquiry_grid.selectable_grid

%script{:type => "text/javascript", :charset => "utf-8"}
  :plain
    $("#show_organisation_maillog_enquiry_grid").flexigrid({
    url: '/grids/show_organisation_maillog_enquiry_grid?#{query}',
    dataType: 'json',
    colModel : [
    {
    display: 'ID',
    name : 'id',
    width : 40,
    sortable : true,
    align: 'left'
    },

    {
    display: 'Name',
    name : 'organisations.full_name',
    width : 160,
    sortable : true,
    align: 'left'
    },

    {
    display: 'Channel',
    name : 'channel',
    width : 130,
    sortable : true,
    align: 'left'
    },

    {
    display: 'Template',
    name : 'message_templates.name',
    width : 360,
    sortable : true,
    align: 'left'
    },


    {
    display: 'Creator',
    name : 'login_accounts.user_name',
    width : 160,
    sortable : true,
    align: 'left'
    }

    ],
    sortname: "id",
    sortorder: "asc",
    usepager: true,
    useRp: true,
    rp: 20,
    showTableToggleBtn: false,
    width: 'auto',
    height: 'auto'
    });